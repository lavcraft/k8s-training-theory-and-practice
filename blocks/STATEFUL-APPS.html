<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/k8s-training-theory-and-practice/_next/static/css/1af85b4a5b29acae.css" as="style"/><link rel="stylesheet" href="/k8s-training-theory-and-practice/_next/static/css/1af85b4a5b29acae.css" data-n-g=""/><link rel="preload" href="/k8s-training-theory-and-practice/_next/static/css/0d82c3453bf37efe.css" as="style"/><link rel="stylesheet" href="/k8s-training-theory-and-practice/_next/static/css/0d82c3453bf37efe.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/k8s-training-theory-and-practice/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/webpack-5cd37bd86c639393.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/framework-6cbe6e332df95288.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/main-55d74189046b254e.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/pages/_app-41a4dd47d6baf0a1.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/322-d504cb88da08b09b.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/pages/blocks/%5BblockKey%5D-5644a45caafc607c.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/9Dc1Jp0YLRSKm07g9vVYy/_buildManifest.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/9Dc1Jp0YLRSKm07g9vVYy/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><main><div class="_blockKey__block__x9PZF"><h1 id="k8s-statefull-apps">K8S Statefull Apps<a aria-hidden="true" tabindex="-1" href="#k8s-statefull-apps"><span class="icon icon-link"></span></a></h1>
<p>4 —á–∞—Å–∞</p>
<h2 id="–≤–≤–µ–¥–µ–Ω–∏–µ" level="2" node="[object Object]"><span>–í–≤–µ–¥–µ–Ω–∏–µ</span><a aria-hidden="true" tabindex="-1" href="#–≤–≤–µ–¥–µ–Ω–∏–µ"><span class="icon icon-link"></span></a><span class="_blockKey__copyToClip__Fqi6t"></span></h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->PV and PVC</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->Static vs Dynamic Provisioning</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->StatefulSet</li>
</ul>
<h2 id="hands-on-practice-quest-00-working-with-pvc-and-statefulset" level="2" node="[object Object]"><span>Hands-on practice quest #00: working with pvc and statefulset</span><a aria-hidden="true" tabindex="-1" href="#hands-on-practice-quest-00-working-with-pvc-and-statefulset"><span class="icon icon-link"></span></a><span class="_blockKey__copyToClip__Fqi6t"></span></h2>
<p>–ü—Ä–æ–±—É–µ–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è &quot;—Ñ–∞–π–ª–æ–≤—ã–º–∏&quot; —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–∞—à–∏—Ö –ø–æ–¥–∞—Ö</p>
<p><strong>Given</strong> —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω—ã –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤<br/>
<strong>When</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–º–∞–Ω–¥—ã –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç –∏—Ö –≤—ã–≤–æ–¥ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ<br/>
<strong>–ó–∞–¥–∞–Ω–∏–µ</strong> –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å–æ <code>PersistentVolumeClaim</code> –∏ <code>StorageClass</code></p>
<pre><code class="language-shell">kubectl explain pvc
kubectl get storageclasses

cat &gt;sandwich-ingridients.yml &lt;&lt;EOF
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: sandwich-ingridients
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 20Mi
EOF
</code></pre>
<p><code>kubectl apply -f sandwich-ingridients.yml</code></p>
<p><strong>Then</strong>: —Ä–µ—Å—É—Ä—Å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω</p>
<ol>
<li>–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–∞–∫–æ–º —Å—Ç–∞—Ç—É—Å–µ —Å–µ–π—á–∞—Å –Ω–∞—à <code>PersistentVolumeClaim</code>?</li>
<li>–î–æ—Å—Ç—É–ø–µ–Ω –ª–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–π <code>PersistentVolumeClaim</code> –≤–æ –≤—Å—ë–º –∫–ª–∞—Å—Ç–µ—Ä–µ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—à–µ–º –Ω–µ–π–º—Å–ø–µ–π—Å–µ? –ü–æ—á–µ–º—É?</li>
</ol>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: –º–æ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ –∫–∞–∫–æ–π –ª–∏–±–æ <code>Pod</code> –∏–ª–∏ <code>Deployment</code> (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ <code>app-knife</code> –∏–ª–∏ <code>app-butter</code>). –ó–∞–ø–∏—à–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ–≥–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å</p>
<blockquote>
<p>–ü—Ä–∏–º–µ—Ä—ã <code>Pod</code> –∏–ª–∏ <code>Job</code> –≤—ã –º–æ–∂–µ—Ç–µ</p>
<ol>
<li>–≤–∑—è—Ç—å –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–¥–∞–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä handson-03)</li>
<li>–Ω–∞–ø–∏—Å–∞—Ç—å —Å–∞–º–∏</li>
<li>–ø–æ–ª—É—á–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—É <code>kubectl create/run</code> –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–Ω–∏—Ñ–µ—Å—Ç –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º</li>
</ol>
</blockquote>
<pre><code class="language-shell">kubectl explain pod.spec.volumes.persistentVolumeClaim
kubectl explain pod.spec.containers.volumeMounts

vi sandwich-ingridients.yml
kubectl apply -f sandwich-ingridients.yml
kubectl exec -it &lt;mypod&gt; -- sh
echo &quot;tasty potatos&quot; &gt; &lt;mountdir&gt;/potato

kubectl delete pod &lt;mypod&gt;
kubectl apply -f sandwich-ingridients.yml

# –µ—Å–ª–∏ –≤—ã —Å–¥–µ–ª–∞–ª–∏ pod - –¥–æ–±–∞–≤–ª—è–µ–º –≤—Ç–æ—Ä–æ–π –ø–æ–¥ —Å —Ç–µ–º –∂–µ PVC
vi sandwich-ingridients.yml 
kubectl apply -f sandwich-ingridients.yml
</code></pre>
<p><strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
<ol>
<li>–ù–∞ –∫–∞–∫–æ–º —É–∑–ª–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –ø–æ–¥ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–∞?</li>
<li>–ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–æ–¥ –Ω–∞ –¥—Ä—É–≥—É—é –Ω–æ–¥—É?</li>
<li>–ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ—â—ë –æ–¥–∏–Ω –ø–æ–¥ —Å —ç—Ç–∏–º pvc? –ü–æ–ø—Ä–æ–±—É–π—Ç–µ</li>
<li>–£–¥–∞–ª—è–µ—Ç—Å—è –ª–∏ PVC –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è Pod?</li>
<li>–ú–æ–∂–Ω–æ –ª–∏ —É–¥–∞–ª–∏—Ç—å PVC –¥–æ —É–¥–∞–ª–µ–Ω–∏—è Pod?</li>
</ol>
<h2 id="hands-on-practice-quest-01-statefull-apps-scaling" level="2" node="[object Object]"><span>Hands-on practice quest #01: Statefull apps scaling</span><a aria-hidden="true" tabindex="-1" href="#hands-on-practice-quest-01-statefull-apps-scaling"><span class="icon icon-link"></span></a><span class="_blockKey__copyToClip__Fqi6t"></span></h2>
<p>–ü–µ—Ä–µ—Ö–æ–¥–∏–º –æ—Ç –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Å–∞ –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏.
–ü—Ä–æ–≤–æ–¥–∏–º –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –∑–Ω–∞–Ω–∏—è–º–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –≤ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞</p>
<p>üõí <em>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</em></p>
<ol>
<li><a href="https://kubernetes.io/docs/tutorials/stateful-application/basic-stateful-set/#creating-a-statefulset">Creating a StatefulSet</a></li>
</ol>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: —Å–æ–∑–¥–∞–π—Ç–µ <code>statefulset</code> –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –µ–≥–æ —Ä–∞–∑–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º</p>
<pre><code class="language-shell">kubectl explain statefulset.spec

# –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞–µ–º —Å–≤–æ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ StatefulSet –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
vi sandwich-ingridients.yml
kubectl apply -f sandwich-ingridients.yml
kubectl get pods
kubectl get pvc
kubectl exec -it debug -- sh
[debug]$ nslookup &lt;pod-static-name&gt;.&lt;stateful-service-name&gt;
</code></pre>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ</strong>:</p>
<ol>
<li>–∑–∞–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –∑–∞–ø–∏—à–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ.</li>
<li>–£–¥–∞–ª–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º statefulset.</li>
<li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å—Ç–∞–ª–æ —Å –¥–∞–Ω–Ω—ã–º–∏</li>
<li>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ/–æ—Ç–º–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ <code>statefulset</code></li>
</ol>
<p>–ü–æ–¥–≤–µ–¥–∏—Ç–µ –∏—Ç–æ–≥–∏:
<strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
<ul>
<li>–ö–∞–∫ –≤–æ–∑–Ω–∏–∫–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏?</li>
<li>–î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω <code>serviceName</code> –≤ <code>StatefulSet</code>?</li>
<li>–ú–æ–∂–µ—Ç –ª–∏ —É –ø–æ–¥–∞ –∏–∑ <code>StatefulSet</code> –º–µ–Ω—è—Ç—å—Å—è IP?</li>
<li>–î–ª—è —á–µ–≥–æ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Service —Å <code>clusterIP: None</code>?</li>
<li>–ö–æ–≥–¥–∞ —É–¥–∞–ª—è—é—Ç—Å—è PVC?</li>
<li>–ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π PV?</li>
<li>–í –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ–¥—ã –≤ <code>StatefulSet</code>?</li>
</ul></div></main><footer class="flex flex-col p-5 w-full max-w-full prose prose-sm prose-slate prose-a:cursor-pointer border-t-2 border-slate-100"><div><h2 class="m-0"><a>Show training customizations</a></h2></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"name":"K8S - Stateful Apps","defaults":{"name":"K8S - Stateful Apps","order":20},"content":"\nK8S Statefull Apps\n==================\n4 —á–∞—Å–∞\n\n–í–≤–µ–¥–µ–Ω–∏–µ\n--------------\n\n- [ ] PV and PVC\n- [ ] Static vs Dynamic Provisioning\n- [ ] StatefulSet\n\nHands-on practice quest #00: working with pvc and statefulset\n-------------------------------------------------------------\n–ü—Ä–æ–±—É–µ–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è \"—Ñ–∞–π–ª–æ–≤—ã–º–∏\" —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–∞—à–∏—Ö –ø–æ–¥–∞—Ö\n\n**Given** —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω—ã –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤  \n**When** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–º–∞–Ω–¥—ã –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç –∏—Ö –≤—ã–≤–æ–¥ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ  \n**–ó–∞–¥–∞–Ω–∏–µ** –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å–æ `PersistentVolumeClaim` –∏ `StorageClass`\n\n```shell script\nkubectl explain pvc\nkubectl get storageclasses\n\ncat \u003esandwich-ingridients.yml \u003c\u003cEOF\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: sandwich-ingridients\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 20Mi\nEOF\n```\n\n`kubectl apply -f sandwich-ingridients.yml`\n\n**Then**: —Ä–µ—Å—É—Ä—Å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω\n1. –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–∞–∫–æ–º —Å—Ç–∞—Ç—É—Å–µ —Å–µ–π—á–∞—Å –Ω–∞—à `PersistentVolumeClaim`?\n1. –î–æ—Å—Ç—É–ø–µ–Ω –ª–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–π `PersistentVolumeClaim` –≤–æ –≤—Å—ë–º –∫–ª–∞—Å—Ç–µ—Ä–µ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—à–µ–º –Ω–µ–π–º—Å–ø–µ–π—Å–µ? –ü–æ—á–µ–º—É?\n\n\n**–ó–∞–¥–∞–Ω–∏–µ**: –º–æ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ –∫–∞–∫–æ–π –ª–∏–±–æ `Pod` –∏–ª–∏ `Deployment` (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ `app-knife` –∏–ª–∏ `app-butter`). –ó–∞–ø–∏—à–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ–≥–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å\n\n\u003e –ü—Ä–∏–º–µ—Ä—ã `Pod` –∏–ª–∏ `Job` –≤—ã –º–æ–∂–µ—Ç–µ\n\u003e 1. –≤–∑—è—Ç—å –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–¥–∞–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä handson-03)\n\u003e 2. –Ω–∞–ø–∏—Å–∞—Ç—å —Å–∞–º–∏\n\u003e 3. –ø–æ–ª—É—á–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—É `kubectl create/run` –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–Ω–∏—Ñ–µ—Å—Ç –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º\n\n```shell\nkubectl explain pod.spec.volumes.persistentVolumeClaim\nkubectl explain pod.spec.containers.volumeMounts\n\nvi sandwich-ingridients.yml\nkubectl apply -f sandwich-ingridients.yml\nkubectl exec -it \u003cmypod\u003e -- sh\necho \"tasty potatos\" \u003e \u003cmountdir\u003e/potato\n\nkubectl delete pod \u003cmypod\u003e\nkubectl apply -f sandwich-ingridients.yml\n\n# –µ—Å–ª–∏ –≤—ã —Å–¥–µ–ª–∞–ª–∏ pod - –¥–æ–±–∞–≤–ª—è–µ–º –≤—Ç–æ—Ä–æ–π –ø–æ–¥ —Å —Ç–µ–º –∂–µ PVC\nvi sandwich-ingridients.yml \nkubectl apply -f sandwich-ingridients.yml\n```\n\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n1. –ù–∞ –∫–∞–∫–æ–º —É–∑–ª–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –ø–æ–¥ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–∞?\n1. –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–æ–¥ –Ω–∞ –¥—Ä—É–≥—É—é –Ω–æ–¥—É?\n1. –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ—â—ë –æ–¥–∏–Ω –ø–æ–¥ —Å —ç—Ç–∏–º pvc? –ü–æ–ø—Ä–æ–±—É–π—Ç–µ\n1. –£–¥–∞–ª—è–µ—Ç—Å—è –ª–∏ PVC –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è Pod?\n1. –ú–æ–∂–Ω–æ –ª–∏ —É–¥–∞–ª–∏—Ç—å PVC –¥–æ —É–¥–∞–ª–µ–Ω–∏—è Pod?\n\nHands-on practice quest #01: Statefull apps scaling\n---------------------------------------------------\n–ü–µ—Ä–µ—Ö–æ–¥–∏–º –æ—Ç –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Å–∞ –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏.\n–ü—Ä–æ–≤–æ–¥–∏–º –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –∑–Ω–∞–Ω–∏—è–º–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –≤ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞\n\nüõí *–ú–∞—Ç–µ—Ä–∏–∞–ª—ã*\n1. [Creating a StatefulSet](https://kubernetes.io/docs/tutorials/stateful-application/basic-stateful-set/#creating-a-statefulset)\n\n**–ó–∞–¥–∞–Ω–∏–µ**: —Å–æ–∑–¥–∞–π—Ç–µ `statefulset` –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –µ–≥–æ —Ä–∞–∑–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º\n\n```shell\nkubectl explain statefulset.spec\n\n# –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞–µ–º —Å–≤–æ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ StatefulSet –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤\nvi sandwich-ingridients.yml\nkubectl apply -f sandwich-ingridients.yml\nkubectl get pods\nkubectl get pvc\nkubectl exec -it debug -- sh\n[debug]$ nslookup \u003cpod-static-name\u003e.\u003cstateful-service-name\u003e\n```\n\n**–ó–∞–¥–∞–Ω–∏–µ**:\n1. –∑–∞–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –∑–∞–ø–∏—à–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ.\n1. –£–¥–∞–ª–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º statefulset.\n1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å—Ç–∞–ª–æ —Å –¥–∞–Ω–Ω—ã–º–∏\n1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ/–æ—Ç–º–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ `statefulset`\n\n–ü–æ–¥–≤–µ–¥–∏—Ç–µ –∏—Ç–æ–≥–∏:\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n- –ö–∞–∫ –≤–æ–∑–Ω–∏–∫–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏?\n- –î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω `serviceName` –≤ `StatefulSet`?\n- –ú–æ–∂–µ—Ç –ª–∏ —É –ø–æ–¥–∞ –∏–∑ `StatefulSet` –º–µ–Ω—è—Ç—å—Å—è IP?\n- –î–ª—è —á–µ–≥–æ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Service —Å `clusterIP: None`?\n- –ö–æ–≥–¥–∞ —É–¥–∞–ª—è—é—Ç—Å—è PVC?\n- –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π PV?\n- –í –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ–¥—ã –≤ `StatefulSet`?"},"__N_SSG":true},"page":"/blocks/[blockKey]","query":{"blockKey":"STATEFUL-APPS"},"buildId":"9Dc1Jp0YLRSKm07g9vVYy","assetPrefix":"/k8s-training-theory-and-practice","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>