<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/k8s-training-theory-and-practice/_next/static/css/cadfac9f4decee36.css" as="style"/><link rel="stylesheet" href="/k8s-training-theory-and-practice/_next/static/css/cadfac9f4decee36.css" data-n-g=""/><link rel="preload" href="/k8s-training-theory-and-practice/_next/static/css/d785f66945689a16.css" as="style"/><link rel="stylesheet" href="/k8s-training-theory-and-practice/_next/static/css/d785f66945689a16.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/k8s-training-theory-and-practice/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/webpack-c9d18d9ff523e3b5.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/framework-6e4ba497ae0c8a3f.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/main-c66f0a32f1840de0.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/pages/_app-19425516165713a1.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/425-c6bfafa2e8a7611b.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/chunks/pages/blocks/%5BblockKey%5D-ee930bdcd200ecb5.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/hFAQcIiFNXHBEi5v2eIlC/_buildManifest.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/hFAQcIiFNXHBEi5v2eIlC/_ssgManifest.js" defer=""></script><script src="/k8s-training-theory-and-practice/_next/static/hFAQcIiFNXHBEi5v2eIlC/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><main><div class="_blockKey__block__x9PZF"><h1 id="kubernetes-helm">Kubernetes Helm<a aria-hidden="true" tabindex="-1" href="#kubernetes-helm"><span class="icon icon-link"></span></a></h1>
<p>4 —á–∞—Å–æ–≤, 1 –∞–∫. –¥–Ω—è.</p>
<h1 id="prerequisites">Prerequisites<a aria-hidden="true" tabindex="-1" href="#prerequisites"><span class="icon icon-link"></span></a></h1>
<ol>
<li>RAM ‚â• 8Gb</li>
<li><a href="#link-to-docker-part">–ü—Ä–æ–π–¥–µ–Ω—ã–Ω–µ –∑–∞–¥–∞–Ω–∏–µ —Å —Ç—Ä–µ–Ω–∏–≥–∞ –ø–æ Docker</a></li>
<li><a href="#link-to-docker-part">–ü—Ä–æ–π–¥–µ–Ω—ã–Ω–µ –∑–∞–¥–∞–Ω–∏–µ —Å —Ç—Ä–µ–Ω–∏–≥–∞ –ø–æ K8S-CORE</a></li>
<li><a href="#link-to-confluence">–†–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π –∫–ª–∞—Å—Ç–µ—Ä k8s –Ω–∞ –ø–∞—Ä—É</a></li>
<li>terminal</li>
<li>kubectl cli</li>
</ol>
<h2 id="k8s-helm-charts-introduction">K8S Helm charts introduction<a aria-hidden="true" tabindex="-1" href="#k8s-helm-charts-introduction"><span class="icon icon-link"></span></a></h2>
<ol>
<li>–î–ª—è —á–µ–≥–æ –ø—Ä–∏–¥—É–º–∞–Ω, –ø—Ä–µ–¥–ø–æ—Å—ã–ª–∫–∏</li>
<li>–ü—Ä–µ–¥–ø–æ—Å—ã–ª–∫–∏ –∫ –ø–æ—è–≤–ª–µ–Ω–∏—é. –û—Ç—Å—ã–ª–∫–∏ –∫ kustomize.io.</li>
<li>–ß—Ç–æ –±—ã–ª–æ &quot;–î–û&quot;</li>
<li>–í–µ—Ä—Å–∏–∏ Helm Charts</li>
<li>–î–µ–º–æ - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞—Ä–∞–±–æ—Ç–æ–∫ –ø–æ <code>app-butter</code> –∏ <code>app-knife</code> –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑ –æ–¥–Ω–æ–π &quot;–ø–∞–ø–∫–∏&quot;</li>
<li>–°–≤—è–∑—å —Å multi service deploy –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–æ–π —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–∞–∫ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é</li>
<li>–°—Ç–æ—Ä–æ–Ω–Ω–∏–µ Helm –∏ –∏—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</li>
</ol>
<p>üëÄ <a href="https://helm.sh/docs/topics/version_skew/">–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π Helm/Kubectl</a></p>
<h2 id="hands-on-practice-quest-00-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞">Hands-on practice quest #00: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞<a aria-hidden="true" tabindex="-1" href="#hands-on-practice-quest-00-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞"><span class="icon icon-link"></span></a></h2>
<p><strong>Given</strong> –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ <code>bastion</code> –∏ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ <code>BASE</code> —á–∞—Å—Ç–∏<br/>
<strong>When</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∏—Å—Å–ª–µ–¥—É—é—Ç —É—Ç–∏–ª–∏—Ç—É helm –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–¥–∞–Ω–∏–µ<br/>
<strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å helm</p>
<pre><code class="language-shell">which helm
sudo yum install helm

helm completion -h
helm repo list
helm search hub
helm search repo
</code></pre>
<p><strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
<ol>
<li>–ß—Ç–æ –≤—ã–≤–æ–¥—è—Ç <code>helm repo list</code> –∏ <code>helm search repo</code> –∏ –≤ —á—ë–º –æ—Ç–ª–∏—á–∏–µ?</li>
<li>–ß—Ç–æ –≤—ã–≤–æ–¥–∏—Ç <code>helm search hub</code> –∏ –ø–æ—á–µ–º—É?</li>
<li><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>*: –∫—É–¥–∞ –∏ –∫–∞–∫ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –∫–æ–º–∞–Ω–¥—ã <code>helm completion bash</code> —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É shell —Å–µ—Å—Å–∏—è–º–∏?</li>
</ol>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π</p>
<pre><code class="language-shell"># –¥–æ–±–∞–≤–ª—è–µ–º –Ω–∞—à–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ helm
helm repo add -h
helm repo add ext-rbru-container-community-virtual-helm &quot;https://{{helmRepositoryUrl}}&quot; --username &quot;$USER&quot;
helm repo update
helm repo list
helm search repo
</code></pre>
<p><strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
<ol>
<li>Helm —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –Ω–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ –∏–ª–∏ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ K8S?</li>
<li>–ß—Ç–æ –ª—É—á—à–µ, –≤–≤–æ–¥ –ø–∞—Ä–æ–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é —Ñ–ª–∞–≥–∞ <code>--password</code> –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è?</li>
<li>–í–∏–¥–Ω—ã –ª–∏ –≤ —Å–ø–∏—Å–∫–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–∞—Ä—Ç–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏—è —á–∞—Ä—Ç–æ–≤? –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –∫–∞–∫–∏–µ –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã?</li>
<li><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>*: –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥ –≤ –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–∞–Ω–¥? (bash_history)</li>
<li><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>*: –ö–∞–∫ –ø–æ–∏—Å–∫–∞—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è? (–Ω–∞–ø—Ä–∏–º–µ—Ä –µ—Å–ª–∏ —É –≤–∞—Å –∏–º–µ–µ—Ç—Å—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)</li>
</ol>
<pre><code class="language-shell"># * –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å helm chart –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è filebeat –∏–ª–∏ redis)
</code></pre>
<p><strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
<ol>
<li>–í–æ–∑–Ω–∏–∫–ª–∏ –ª–∏ –∫–∞–∫–∏–µ-—Ç–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏?</li>
<li>–û–±—ä—è—Å–Ω–∏—Ç–µ –∏—Ö –ø—Ä–∏—Ä–æ–¥—É</li>
<li><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>*: –ù–∞–π–¥–∏—Ç–µ –≥–¥–µ Helm —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ. –í—Å—ë –ª–∏ –≤–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è?</li>
</ol>
<p>üëÄ <a href="https://helm.sh/docs/chart_best_practices/templates/#helm">–û—Å–Ω–æ–≤—ã Helm Templates</a><br/>
<!-- -->üëÄ <a href="https://helm.sh/docs/chart_best_practices/values/">Helm —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö values.yml</a><br/>
<!-- -->üëÄ <a href="https://helm.sh/docs/chart_template_guide/getting_started/">Helm Crate gettings started</a><br/>
<!-- -->üëÄ <a href="https://helm.sh/docs/topics/chart_tests/">Helm Tests</a></p>
<h2 id="hands-on-practice-quest-01-—Å–æ–∑–¥–∞–Ω–∏–µ-helm-chart">Hands-on practice quest #01: —Å–æ–∑–¥–∞–Ω–∏–µ Helm Chart<a aria-hidden="true" tabindex="-1" href="#hands-on-practice-quest-01-—Å–æ–∑–¥–∞–Ω–∏–µ-helm-chart"><span class="icon icon-link"></span></a></h2>
<p><strong>Given</strong> –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ <code>bastion</code> –∏ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –∑–∞–¥–∞–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–π —á–∞—Å—Ç–∏<br/>
<strong>When</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π helm –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è K8S –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞<br/>
<strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: —Å–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω Helm chart —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Å–æ–ª—å–Ω–æ–π —É—Ç–∏–ª–∏—Ç—ã <code>helm</code></p>
<pre><code class="language-shell"># –≤—ã–±–∏—Ä–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≥–¥–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å –Ω–æ–≤—ã–π helm chart
mkdir -p handson/handson-helm-01/
cd handson/handson-helm-01/
helm create -h
helm create
cd &lt;&gt;
ls -la
cat Chart.yml
ls templates
</code></pre>
<p>üëÄ <a href="https://helm.sh/docs/chart_template_guide/getting_started/">Helm Crate gettings started</a></p>
<p><strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
<ol>
<li>–∑–Ω–∞–∫–æ–º–æ –ª–∏ –≤–∞–º —Ç–æ, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ templates?</li>
<li>–ø–æ—á–µ–º—É –≤ Chart.yml —É–∫–∞–∑–∞–Ω–æ –¥–≤–µ –≤–µ—Ä—Å–∏–∏? <code>version</code> –∏ <code>appVersion</code>?</li>
<li>–Ω–∞ –≤–µ—Ä—Å–∏—é —á–µ–≥–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç <code>apiVersion</code>? –ö–∞–∫ —Å —ç—Ç–∏–º —Å–≤—è–∑–∞–Ω K8S?</li>
<li><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>*: –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ <code>templates</code> –∏ <code>tests</code>. –ù–∞–π–¥–∏—Ç–µ –Ω–∞ —á—Ç–æ —Å—Å—ã–ª–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —ç—Ç–∏—Ö —Ñ–∞–π–ª–∞—Ö</li>
</ol>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–º—è –∏ –≤–µ—Ä—Å–∏—é Helm Chart –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è <code>sandwich-fabric</code></p>
<pre><code class="language-shell">vi Chart.yaml
vi values.yaml
# WARN: —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ helm create –≤ –¥—Ä—É–≥–æ–π –ø–∞–ø–∫–µ —á—Ç–æ–±—ã –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —à–∞–±–ª–æ–Ω–∞–º –∫–∞–∫ –∫ –ø—Ä–∏–º–µ—Ä–∞–º
rm -rf templates/*.yaml

helm install -h
helm install &lt;helm_chart_name&gt; &lt;helm_chart_dir&gt;
helm list
</code></pre>
<p><strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
<ol>
<li>–∫–∞–∫–∏–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ? –ö–∞–∫ –±—ã –≤—ã –∏—Ö —Ä–µ—à–∞–ª–∏?</li>
<li>–æ—Ç–∫—É–¥–∞ <code>helm list</code> –±–µ—Ä—ë—Ç —Å–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö helm charts?</li>
<li>—á—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑?</li>
</ol>
<h2 id="k8s-helm-charts">K8S Helm charts<a aria-hidden="true" tabindex="-1" href="#k8s-helm-charts"><span class="icon icon-link"></span></a></h2>
<ol>
<li>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ HELM Charts</li>
<li>–∫–æ–º–∞–Ω–¥—ã helm –∏ templates</li>
<li>–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é helm</li>
</ol>
<p>üëÄ <a href="https://helm.sh/docs/chart_template_guide/named_templates/">–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã</a><br/>
<!-- -->üëÄ <a href="https://helm.sh/docs/chart_template_guide/functions_and_pipelines/">–§—É–Ω–∫—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∞ –∏ –∏—Ö –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a></p>
<h2 id="hands-on-practice-quest-02-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∏-—à–∞–±–ª–æ–Ω-–Ω–∞—á–∏–Ω–∞–µ–º-–ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å-deployment">Hands-on practice quest #02: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —à–∞–±–ª–æ–Ω. –ù–∞—á–∏–Ω–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å deployment<a aria-hidden="true" tabindex="-1" href="#hands-on-practice-quest-02-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∏-—à–∞–±–ª–æ–Ω-–Ω–∞—á–∏–Ω–∞–µ–º-–ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å-deployment"><span class="icon icon-link"></span></a></h2>
<p><strong>Given</strong> –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ <code>bastion</code> –∏ —Å–æ–∑–¥–∞–ª–∏ —à–∞–±–ª–æ–Ω helm chart<br/>
<strong>When</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π helm –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è K8S –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞<br/>
<strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ deployment <code>app-knife</code> –∏ <code>app-butter</code> –≤ helm —à–∞–±–ª–æ–Ω</p>
<pre><code class="language-shell">ls -la templates
vi templates/deployment.yaml

helm install sandwich-fabric .
</code></pre>
<p><strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
<ol>
<li>–ö–∞–∫–∏–µ –≤–æ–∑–Ω–∏–∫–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏? –û–±—ä—è—Å–Ω–∏—Ç–µ –∏—Ö?</li>
<li>–∫–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Ç–æ —á—Ç–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏?</li>
<li>–º–æ–∂–Ω–æ –ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω?</li>
<li><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>*: –ß—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å helm install –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å –æ–¥–Ω–∏–º –∏–º–µ–Ω–µ–º?</li>
<li><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>*: –∫–∞–∫ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å helm charts?</li>
</ol>
<h2 id="k8s-helm-charts-—à–∞–±–ª–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∏–µ">K8S Helm charts —à–∞–±–ª–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∏–µ<a aria-hidden="true" tabindex="-1" href="#k8s-helm-charts-—à–∞–±–ª–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∏–µ"><span class="icon icon-link"></span></a></h2>
<ol>
<li>Go-Template –∏ –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>Helm CLI —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</li>
<li>–ú–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ —à–∞–±–ª–æ–Ω–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤</li>
</ol>
<p>üëÄ <a href="https://helm.sh/docs/chart_template_guide/debugging/">Debug helm chars</a></p>
<h2 id="hands-on-practice-quest-03-—Ñ—É–Ω–∫—Ü–∏–∏-—à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏-–∏-deployment">Hands-on practice quest #03: —Ñ—É–Ω–∫—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ deployment<a aria-hidden="true" tabindex="-1" href="#hands-on-practice-quest-03-—Ñ—É–Ω–∫—Ü–∏–∏-—à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏-–∏-deployment"><span class="icon icon-link"></span></a></h2>
<p><strong>Given</strong> –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ <code>bastion</code> –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ deployment sandwich-fabric —Å –ø–æ–º—â—å—é helm<br/>
<strong>When</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π helm –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è K8S –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞<br/>
<strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: –¥–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ image repository –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ helm –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–∞–µ–º—ã–π —à–∞–±–ª–æ–Ω</p>
<pre><code class="language-shell">helm upgrade -h
helm template &lt;&gt; . -s templates/deployment.taml

# –î–æ–±–∞–≤–∏–º 
# image:
#   repository: &#x27;...&#x27;
#
vi values.yaml
# –∏—Å–ø–æ–ª—å–∑—É–µ–º image.repository –≤ —à–∞–±–ª–æ–Ω–µ. * –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å—Ä–∞–∑—É –¥–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ —É—Ä–æ–≤–Ω–µ —à–∞–±–ª–æ–Ω–∞
vi templates/deployments.yml
helm upgrade &lt;&gt; .
</code></pre>
<p><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>* –ó–∞–¥–∞–Ω–∏–µ: –¥–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ <code>image.repository</code> –≤ —à–∞–±–ª–æ–Ω</p>
<p><strong>Given</strong> –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ <code>bastion</code> –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ deployment sandwich-fabric —Å –ø–æ–º—â—å—é helm<br/>
<strong>When</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π helm –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è K8S –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞</p>
<ol>
<li>–ß—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –Ω–µ –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å –≤ values.yaml <code>image.repository?</code> –ü–æ–ø—Ä–æ–±—É–π—Ç–µ</li>
</ol>
<h2 id="k8s-helm-charts-–∫–∞–∫-–ø–∞–∫–µ—Ç–Ω—ã–π-–º–µ–Ω–µ–¥–∂–µ—Ä-–¥–ª—è-k8s">K8S Helm charts –∫–∞–∫ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è K8S<a aria-hidden="true" tabindex="-1" href="#k8s-helm-charts-–∫–∞–∫-–ø–∞–∫–µ—Ç–Ω—ã–π-–º–µ–Ω–µ–¥–∂–µ—Ä-–¥–ª—è-k8s"><span class="icon icon-link"></span></a></h2>
<ol>
<li>–†–æ–ª—å –ø–∞–∫–µ—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º</li>
<li>–û—Ç–∫—É–¥–∞ —Ä–∞—Å—Ç—É—Ç –Ω–æ–≥–∏ —É Helm (Bitnami)</li>
<li>HELM Chart –∫–∞–∫ API –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –≤ K8S</li>
</ol>
<p>üëÄ <a href="https://helm.sh/docs/chart_template_guide/function_list/">–°–ø–∏—Å–æ–∫ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏</a></p>
<h2 id="hands-on-practice-quest-04-–¥–æ–±–∞–≤–ª—è–µ–º-–¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ-–∑–Ω–∞—á–µ–Ω–∏—è-–≤-—à–∞–±–ª–æ–Ω-–∏-–º–∏–≥—Ä–∏—Ä—É–µ–º-ingress">Hands-on practice quest #04: –¥–æ–±–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —à–∞–±–ª–æ–Ω –∏ –º–∏–≥—Ä–∏—Ä—É–µ–º ingress<a aria-hidden="true" tabindex="-1" href="#hands-on-practice-quest-04-–¥–æ–±–∞–≤–ª—è–µ–º-–¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ-–∑–Ω–∞—á–µ–Ω–∏—è-–≤-—à–∞–±–ª–æ–Ω-–∏-–º–∏–≥—Ä–∏—Ä—É–µ–º-ingress"><span class="icon icon-link"></span></a></h2>
<p><strong>Given</strong> –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ <code>bastion</code> –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ deployment sandwich-fabric —Å –ø–æ–º–æ—â—å—é helm<br/>
<strong>When</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π helm –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è K8S –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞<br/>
<strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ ingress —Å –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º—ã–º –ø—Ä–∞–≤–∏–ª–æ–º host. –î–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ <code>ingress.host</code> –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ helm</p>
<pre><code class="language-shell"># –î–æ–±–∞–≤–∏–º –≤ –Ω–∞—á–∞–ª–æ 
# ingress:
#   host: &#x27;...&#x27;
#
vi values.yaml
# –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å—Ä–∞–∑—É —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–≤—ã—á–∫–∞–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ host
vi templates/ingress.yml
helm upgrade &lt;&gt; .
</code></pre>
<p><strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
<ol>
<li>–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è?</li>
<li>–ü–æ–ª—É—á–∏–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ? –ö–∞–∫ –±—ã–ª–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏?</li>
<li><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>* –¥–æ–±–∞–≤—å—Ç–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–≤—ã—á–∫–∞–º–∏ –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è <code>ingress.host</code> –≤ —à–∞–±–ª–æ–Ω</li>
</ol>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ service <code>app-knife</code> –∏ <code>app-butter</code> –≤ helm —à–∞–±–ª–æ–Ω</p>
<pre><code class="language-shell">vi values.yaml
vi templates/services.yml
helm upgrade &lt;&gt; .
</code></pre>
<p><strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>
<ol>
<li>–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å ingress</li>
<li>–∑–∞—á–µ–º —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è?</li>
<li>—á—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –≤ values –¥–≤–∞ —Ä–∞–∑–∞ —É–∫–∞–∑–∞—Ç—å <code>ingress: ..</code> ?</li>
<li><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>*: —Å–¥–µ–ª–∞–π—Ç–µ –¥–ª—è <code>image.repository</code> –∏ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–µ deployment</li>
<li><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>*: –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ <code>ConfigMaps</code> –∏ <code>Secrets</code> –∏–∑ –ø—Ä–æ—à–ª—ã—Ö –∑–∞–¥–∞–Ω–∏–π –≤ Helm</li>
</ol>
<h2 id="k8s-helm-hub">K8S Helm Hub<a aria-hidden="true" tabindex="-1" href="#k8s-helm-hub"><span class="icon icon-link"></span></a></h2>
<ol>
<li>–û Hub –∏ –∫–∞–∫ –∏—Å–∫–∞—Ç—å helm charts</li>
<li>–û —Ä–µ–ª–∏–∑–Ω–æ–º —Ü–∏–∫–ª–µ helm charts</li>
<li>–ü—Ä–æ multi service deployment</li>
</ol>
<p>üëÄ <a href="https://helm.sh/docs/topics/charts_hooks/">Helm Hooks</a><br/>
<!-- -->üëÄ <a href="https://helm.sh/docs/topics/architecture/">Helm Architecture</a></p>
<h2 id="hands-on-practice-quest-41-–∑–∞–¥–∞—ë–º-–≤–æ–ø—Ä–æ—Å—ã-–∏-–¥–æ–¥–µ–ª—ã–≤–∞–µ–º-—Ç–æ-—á—Ç–æ-–Ω–µ-—É—Å–ø–µ–ª–∏">Hands-on practice quest #4.1: –∑–∞–¥–∞—ë–º –≤–æ–ø—Ä–æ—Å—ã –∏ –¥–æ–¥–µ–ª—ã–≤–∞–µ–º —Ç–æ —á—Ç–æ –Ω–µ —É—Å–ø–µ–ª–∏<a aria-hidden="true" tabindex="-1" href="#hands-on-practice-quest-41-–∑–∞–¥–∞—ë–º-–≤–æ–ø—Ä–æ—Å—ã-–∏-–¥–æ–¥–µ–ª—ã–≤–∞–µ–º-—Ç–æ-—á—Ç–æ-–Ω–µ-—É—Å–ø–µ–ª–∏"><span class="icon icon-link"></span></a></h2>
<p><strong>Then</strong> —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–¥–≤–æ–¥—è—Ç –∏—Ç–æ–≥–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</p>
<ol>
<li>—á—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∑–∞–ø—É—Å—Ç–∏—Ç—å helm install? –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–∏ —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ?</li>
<li>–∫–∞–∫–∏–µ –≤–µ—Ä—Å–∏–∏ —É –∑–∞–¥–µ–ø–ª–æ–µ–Ω–Ω—ã—Ö helm chart –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?</li>
<li>–∫—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏–∏?</li>
<li>–≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —ç—Ç–∏ –≤–µ—Ä—Å–∏–∏?</li>
<li>–∫–∞–∫ –∏—Ö –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å?</li>
<li>–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–∞?</li>
<li>–∫–∞–∫ –æ—Ç–∫–∞—Ç–∏—Ç—å helm?</li>
<li>–∫–∞–∫ <code>helm</code> —Å–≤—è–∑–∞–Ω —Å <code>kubectl</code>?</li>
<li>–º–æ–∂–Ω–æ –ª–∏ –∏ –∫–∞–∫ —Å –ø–æ–º–æ—â—å—é Helm —Å–æ–∑–¥–∞—Ç—å namespace?</li>
</ol>
<h2 id="k8s-base-homework">K8S Base Homework<a aria-hidden="true" tabindex="-1" href="#k8s-base-homework"><span class="icon icon-link"></span></a></h2>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ</strong>: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ helm chart</p>
<ul>
<li>ConfigMaps</li>
<li>Secrets</li>
<li>LimitRanges</li>
<li>CronJobs</li>
</ul>
<p><strong>–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ</strong>*: –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–±–µ—Ä–∏—Ç–µ—Å—å —Å Helm test –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç –∏–∑ CronJob –≤ Helm chart</p></div></main><footer class="flex flex-col p-5 w-full max-w-full prose prose-sm prose-slate prose-a:cursor-pointer border-t-2 border-slate-100"><div><h2 class="m-0"><a>Show training customizations</a></h2></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"name":"K8S - Helm","defaults":{"name":"K8S - Helm","order":30,"helmRepositoryUrl":{"value":"artifactory.raiffeisen.ru/artifactory/ext-rbru-container-community-virtual-helm/","description":"Helm repository url"}},"content":"\nKubernetes Helm\n=================\n4 —á–∞—Å–æ–≤, 1 –∞–∫. –¥–Ω—è.\n\nPrerequisites\n=============\n\n1. RAM ‚â• 8Gb\n1. [–ü—Ä–æ–π–¥–µ–Ω—ã–Ω–µ –∑–∞–¥–∞–Ω–∏–µ —Å —Ç—Ä–µ–Ω–∏–≥–∞ –ø–æ Docker](#link-to-docker-part)\n1. [–ü—Ä–æ–π–¥–µ–Ω—ã–Ω–µ –∑–∞–¥–∞–Ω–∏–µ —Å —Ç—Ä–µ–Ω–∏–≥–∞ –ø–æ K8S-CORE](#link-to-docker-part)\n1. [–†–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π –∫–ª–∞—Å—Ç–µ—Ä k8s –Ω–∞ –ø–∞—Ä—É](#link-to-confluence)\n1. terminal\n1. kubectl cli\n\n\nK8S Helm charts introduction\n----------------------------\n\n1. –î–ª—è —á–µ–≥–æ –ø—Ä–∏–¥—É–º–∞–Ω, –ø—Ä–µ–¥–ø–æ—Å—ã–ª–∫–∏\n1. –ü—Ä–µ–¥–ø–æ—Å—ã–ª–∫–∏ –∫ –ø–æ—è–≤–ª–µ–Ω–∏—é. –û—Ç—Å—ã–ª–∫–∏ –∫ kustomize.io.\n1. –ß—Ç–æ –±—ã–ª–æ \"–î–û\"\n1. –í–µ—Ä—Å–∏–∏ Helm Charts\n1. –î–µ–º–æ - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞—Ä–∞–±–æ—Ç–æ–∫ –ø–æ `app-butter` –∏ `app-knife` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑ –æ–¥–Ω–æ–π \"–ø–∞–ø–∫–∏\"\n1. –°–≤—è–∑—å —Å multi service deploy –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–æ–π —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–∞–∫ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é\n1. –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ Helm –∏ –∏—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ\n\nüëÄ [–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π Helm/Kubectl](https://helm.sh/docs/topics/version_skew/)\n\n## Hands-on practice quest #00: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞\n\n**Given** –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ `bastion` –∏ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ `BASE` —á–∞—Å—Ç–∏  \n**When** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∏—Å—Å–ª–µ–¥—É—é—Ç —É—Ç–∏–ª–∏—Ç—É helm –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–¥–∞–Ω–∏–µ  \n**–ó–∞–¥–∞–Ω–∏–µ**: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å helm\n\n```shell\nwhich helm\nsudo yum install helm\n\nhelm completion -h\nhelm repo list\nhelm search hub\nhelm search repo\n```\n\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n1. –ß—Ç–æ –≤—ã–≤–æ–¥—è—Ç `helm repo list` –∏ `helm search repo` –∏ –≤ —á—ë–º –æ—Ç–ª–∏—á–∏–µ?\n1. –ß—Ç–æ –≤—ã–≤–æ–¥–∏—Ç `helm search hub` –∏ –ø–æ—á–µ–º—É?\n1. **–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\*: –∫—É–¥–∞ –∏ –∫–∞–∫ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –∫–æ–º–∞–Ω–¥—ã `helm completion bash` —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É shell —Å–µ—Å—Å–∏—è–º–∏?\n\n**–ó–∞–¥–∞–Ω–∏–µ**: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π\n\n```shell\n# –¥–æ–±–∞–≤–ª—è–µ–º –Ω–∞—à–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ helm\nhelm repo add -h\nhelm repo add ext-rbru-container-community-virtual-helm \"https://{{helmRepositoryUrl}}\" --username \"$USER\"\nhelm repo update\nhelm repo list\nhelm search repo\n```\n\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n1. Helm —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –Ω–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ –∏–ª–∏ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ K8S?\n1. –ß—Ç–æ –ª—É—á—à–µ, –≤–≤–æ–¥ –ø–∞—Ä–æ–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é —Ñ–ª–∞–≥–∞ `--password` –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è?\n1. –í–∏–¥–Ω—ã –ª–∏ –≤ —Å–ø–∏—Å–∫–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–∞—Ä—Ç–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏—è —á–∞—Ä—Ç–æ–≤? –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –∫–∞–∫–∏–µ –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã?\n1. **–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\*: –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥ –≤ –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–∞–Ω–¥? (bash_history)\n1. **–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\*: –ö–∞–∫ –ø–æ–∏—Å–∫–∞—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è? (–Ω–∞–ø—Ä–∏–º–µ—Ä –µ—Å–ª–∏ —É –≤–∞—Å –∏–º–µ–µ—Ç—Å—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)\n\n```shell\n# * –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å helm chart –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è filebeat –∏–ª–∏ redis)\n```\n\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n1. –í–æ–∑–Ω–∏–∫–ª–∏ –ª–∏ –∫–∞–∫–∏–µ-—Ç–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏?\n1. –û–±—ä—è—Å–Ω–∏—Ç–µ –∏—Ö –ø—Ä–∏—Ä–æ–¥—É\n1. **–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\*: –ù–∞–π–¥–∏—Ç–µ –≥–¥–µ Helm —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ. –í—Å—ë –ª–∏ –≤–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è?\n\nüëÄ [–û—Å–Ω–æ–≤—ã Helm Templates](https://helm.sh/docs/chart_best_practices/templates/#helm)  \nüëÄ [Helm —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö values.yml](https://helm.sh/docs/chart_best_practices/values/)  \nüëÄ [Helm Crate gettings started](https://helm.sh/docs/chart_template_guide/getting_started/)  \nüëÄ [Helm Tests](https://helm.sh/docs/topics/chart_tests/)\n\nHands-on practice quest #01: —Å–æ–∑–¥–∞–Ω–∏–µ Helm Chart\n------------------------------------------------\n\n**Given** –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ `bastion` –∏ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –∑–∞–¥–∞–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–π —á–∞—Å—Ç–∏  \n**When** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π helm –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è K8S –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞  \n**–ó–∞–¥–∞–Ω–∏–µ**: —Å–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω Helm chart —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Å–æ–ª—å–Ω–æ–π —É—Ç–∏–ª–∏—Ç—ã `helm`\n\n```shell\n# –≤—ã–±–∏—Ä–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≥–¥–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å –Ω–æ–≤—ã–π helm chart\nmkdir -p handson/handson-helm-01/\ncd handson/handson-helm-01/\nhelm create -h\nhelm create\ncd \u003c\u003e\nls -la\ncat Chart.yml\nls templates\n```\n\nüëÄ [Helm Crate gettings started](https://helm.sh/docs/chart_template_guide/getting_started/)\n\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n1. –∑–Ω–∞–∫–æ–º–æ –ª–∏ –≤–∞–º —Ç–æ, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ templates?\n1. –ø–æ—á–µ–º—É –≤ Chart.yml —É–∫–∞–∑–∞–Ω–æ –¥–≤–µ –≤–µ—Ä—Å–∏–∏? `version` –∏ `appVersion`?\n1. –Ω–∞ –≤–µ—Ä—Å–∏—é —á–µ–≥–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç `apiVersion`? –ö–∞–∫ —Å —ç—Ç–∏–º —Å–≤—è–∑–∞–Ω K8S?\n1. **–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\*: –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `templates` –∏ `tests`. –ù–∞–π–¥–∏—Ç–µ –Ω–∞ —á—Ç–æ —Å—Å—ã–ª–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —ç—Ç–∏—Ö —Ñ–∞–π–ª–∞—Ö\n\n**–ó–∞–¥–∞–Ω–∏–µ**: –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–º—è –∏ –≤–µ—Ä—Å–∏—é Helm Chart –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `sandwich-fabric`\n\n```shell\nvi Chart.yaml\nvi values.yaml\n# WARN: —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ helm create –≤ –¥—Ä—É–≥–æ–π –ø–∞–ø–∫–µ —á—Ç–æ–±—ã –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —à–∞–±–ª–æ–Ω–∞–º –∫–∞–∫ –∫ –ø—Ä–∏–º–µ—Ä–∞–º\nrm -rf templates/*.yaml\n\nhelm install -h\nhelm install \u003chelm_chart_name\u003e \u003chelm_chart_dir\u003e\nhelm list\n```\n\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n1. –∫–∞–∫–∏–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ? –ö–∞–∫ –±—ã –≤—ã –∏—Ö —Ä–µ—à–∞–ª–∏?\n1. –æ—Ç–∫—É–¥–∞ `helm list` –±–µ—Ä—ë—Ç —Å–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö helm charts?\n1. —á—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑?\n\nK8S Helm charts\n---------------\n1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ HELM Charts\n1. –∫–æ–º–∞–Ω–¥—ã helm –∏ templates\n1. –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é helm\n\nüëÄ [–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã](https://helm.sh/docs/chart_template_guide/named_templates/)  \nüëÄ [–§—É–Ω–∫—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∞ –∏ –∏—Ö –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ](https://helm.sh/docs/chart_template_guide/functions_and_pipelines/)\n\nHands-on practice quest #02: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —à–∞–±–ª–æ–Ω. –ù–∞—á–∏–Ω–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å deployment\n-------------------------------------------------------------------------------\n**Given** –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ `bastion` –∏ —Å–æ–∑–¥–∞–ª–∏ —à–∞–±–ª–æ–Ω helm chart  \n**When** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π helm –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è K8S –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞  \n**–ó–∞–¥–∞–Ω–∏–µ**: –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ deployment `app-knife` –∏ `app-butter` –≤ helm —à–∞–±–ª–æ–Ω\n\n```shell\nls -la templates\nvi templates/deployment.yaml\n\nhelm install sandwich-fabric .\n```\n\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n1. –ö–∞–∫–∏–µ –≤–æ–∑–Ω–∏–∫–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏? –û–±—ä—è—Å–Ω–∏—Ç–µ –∏—Ö?\n1. –∫–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Ç–æ —á—Ç–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏?\n1. –º–æ–∂–Ω–æ –ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω?\n1. **–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\*: –ß—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å helm install –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å –æ–¥–Ω–∏–º –∏–º–µ–Ω–µ–º?\n1. **–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\*: –∫–∞–∫ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å helm charts?\n\n\nK8S Helm charts —à–∞–±–ª–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∏–µ\n--------------------------------\n\n1. Go-Template –∏ –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–∏\n1. Helm CLI —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ\n1. –ú–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ —à–∞–±–ª–æ–Ω–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤\n\nüëÄ [Debug helm chars](https://helm.sh/docs/chart_template_guide/debugging/)\n\nHands-on practice quest #03: —Ñ—É–Ω–∫—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ deployment\n--------------------------------------------------------------\n**Given** –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ `bastion` –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ deployment sandwich-fabric —Å –ø–æ–º—â—å—é helm  \n**When** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π helm –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è K8S –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞  \n**–ó–∞–¥–∞–Ω–∏–µ**: –¥–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ image repository –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ helm –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–∞–µ–º—ã–π —à–∞–±–ª–æ–Ω\n\n```shell\nhelm upgrade -h\nhelm template \u003c\u003e . -s templates/deployment.taml\n\n# –î–æ–±–∞–≤–∏–º \n# image:\n#   repository: '...'\n#\nvi values.yaml\n# –∏—Å–ø–æ–ª—å–∑—É–µ–º image.repository –≤ —à–∞–±–ª–æ–Ω–µ. * –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å—Ä–∞–∑—É –¥–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ —É—Ä–æ–≤–Ω–µ —à–∞–±–ª–æ–Ω–∞\nvi templates/deployments.yml\nhelm upgrade \u003c\u003e .\n```\n\n**–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\* –ó–∞–¥–∞–Ω–∏–µ: –¥–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ `image.repository` –≤ —à–∞–±–ª–æ–Ω\n\n**Given** –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ `bastion` –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ deployment sandwich-fabric —Å –ø–æ–º—â—å—é helm  \n**When** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π helm –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è K8S –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞\n1. –ß—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –Ω–µ –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å –≤ values.yaml `image.repository?` –ü–æ–ø—Ä–æ–±—É–π—Ç–µ\n\nK8S Helm charts –∫–∞–∫ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è K8S\n---------------------------------------------\n\n1. –†–æ–ª—å –ø–∞–∫–µ—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º\n1. –û—Ç–∫—É–¥–∞ —Ä–∞—Å—Ç—É—Ç –Ω–æ–≥–∏ —É Helm (Bitnami)\n1. HELM Chart –∫–∞–∫ API –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –≤ K8S\n\nüëÄ [–°–ø–∏—Å–æ–∫ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏](https://helm.sh/docs/chart_template_guide/function_list/)\n\nHands-on practice quest #04: –¥–æ–±–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —à–∞–±–ª–æ–Ω –∏ –º–∏–≥—Ä–∏—Ä—É–µ–º ingress\n--------------------------------------------------------------------------------------\n**Given** –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –Ω–∞ `bastion` –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ deployment sandwich-fabric —Å –ø–æ–º–æ—â—å—é helm  \n**When** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π helm –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è K8S –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–∞  \n**–ó–∞–¥–∞–Ω–∏–µ**: –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ ingress —Å –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º—ã–º –ø—Ä–∞–≤–∏–ª–æ–º host. –î–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ `ingress.host` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ helm\n\n```shell\n# –î–æ–±–∞–≤–∏–º –≤ –Ω–∞—á–∞–ª–æ \n# ingress:\n#   host: '...'\n#\nvi values.yaml\n# –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å—Ä–∞–∑—É —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–≤—ã—á–∫–∞–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ host\nvi templates/ingress.yml\nhelm upgrade \u003c\u003e .\n```\n\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n1. –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è?\n1. –ü–æ–ª—É—á–∏–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ? –ö–∞–∫ –±—ã–ª–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏?\n1. **–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\* –¥–æ–±–∞–≤—å—Ç–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–≤—ã—á–∫–∞–º–∏ –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è `ingress.host` –≤ —à–∞–±–ª–æ–Ω\n\n**–ó–∞–¥–∞–Ω–∏–µ**: –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ service `app-knife` –∏ `app-butter` –≤ helm —à–∞–±–ª–æ–Ω\n\n```shell\nvi values.yaml\nvi templates/services.yml\nhelm upgrade \u003c\u003e .\n```\n\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –≤–æ–∑–Ω–∏–∫—à–∏–º–∏ –∏ —Ä–µ—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n1. –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å ingress\n1. –∑–∞—á–µ–º —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è?\n1. —á—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –≤ values –¥–≤–∞ —Ä–∞–∑–∞ —É–∫–∞–∑–∞—Ç—å `ingress: ..` ?\n1. **–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\*: —Å–¥–µ–ª–∞–π—Ç–µ –¥–ª—è `image.repository` –∏ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–µ deployment\n1. **–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\*: –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ `ConfigMaps` –∏ `Secrets` –∏–∑ –ø—Ä–æ—à–ª—ã—Ö –∑–∞–¥–∞–Ω–∏–π –≤ Helm\n\n## K8S Helm Hub\n\n1. –û Hub –∏ –∫–∞–∫ –∏—Å–∫–∞—Ç—å helm charts\n1. –û —Ä–µ–ª–∏–∑–Ω–æ–º —Ü–∏–∫–ª–µ helm charts\n1. –ü—Ä–æ multi service deployment\n\nüëÄ [Helm Hooks](https://helm.sh/docs/topics/charts_hooks/)  \nüëÄ [Helm Architecture](https://helm.sh/docs/topics/architecture/)\n\nHands-on practice quest #4.1: –∑–∞–¥–∞—ë–º –≤–æ–ø—Ä–æ—Å—ã –∏ –¥–æ–¥–µ–ª—ã–≤–∞–µ–º —Ç–æ —á—Ç–æ –Ω–µ —É—Å–ø–µ–ª–∏\n--------------------------------------------------------------------------\n\n**Then** —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–¥–≤–æ–¥—è—Ç –∏—Ç–æ–≥–∏ –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã\n1. —á—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∑–∞–ø—É—Å—Ç–∏—Ç—å helm install? –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–∏ —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ?\n1. –∫–∞–∫–∏–µ –≤–µ—Ä—Å–∏–∏ —É –∑–∞–¥–µ–ø–ª–æ–µ–Ω–Ω—ã—Ö helm chart –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?\n1. –∫—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏–∏?\n1. –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —ç—Ç–∏ –≤–µ—Ä—Å–∏–∏?\n1. –∫–∞–∫ –∏—Ö –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å?\n1. –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–∞?\n1. –∫–∞–∫ –æ—Ç–∫–∞—Ç–∏—Ç—å helm?\n1. –∫–∞–∫ `helm` —Å–≤—è–∑–∞–Ω —Å `kubectl`?\n1. –º–æ–∂–Ω–æ –ª–∏ –∏ –∫–∞–∫ —Å –ø–æ–º–æ—â—å—é Helm —Å–æ–∑–¥–∞—Ç—å namespace?\n\nK8S Base Homework\n-----------------\n\n**–ó–∞–¥–∞–Ω–∏–µ**: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ helm chart\n- ConfigMaps\n- Secrets\n- LimitRanges\n- CronJobs\n\n**–î–æ–ø –∑–∞–¥–∞–Ω–∏–µ**\\*: –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–±–µ—Ä–∏—Ç–µ—Å—å —Å Helm test –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç –∏–∑ CronJob –≤ Helm chart"},"__N_SSG":true},"page":"/blocks/[blockKey]","query":{"blockKey":"HELM"},"buildId":"hFAQcIiFNXHBEi5v2eIlC","assetPrefix":"/k8s-training-theory-and-practice","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>